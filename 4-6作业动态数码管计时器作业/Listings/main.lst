C51 COMPILER V9.57.0.0   MAIN                                                              11/17/2023 12:32:58 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          //数码管显示数组
   3          unsigned char X[]={0x3F,0x06,0x5B,0x4F,0x66,0x6D,0X7D,0x07,0x7F,0x6F};
   4          unsigned char temp[5]={0};
   5          //定义倒计时clock
   6          unsigned char clock;
   7          //软件延时函数
   8          void Delay(unsigned char xms) //@11.0592MHz
   9          {
  10   1        while(xms)
  11   1        {
  12   2          unsigned char i, j;
  13   2      
  14   2          
  15   2          i = 2;
  16   2          j = 199;
  17   2          do
  18   2          {
  19   3            while (--j);
  20   3          } while (--i);
  21   2          xms--;
  22   2        }
  23   1      }
  24          //数码管位选与段选函数
  25          void Nixie(unsigned char Location,unsigned char Number)
  26          {
  27   1        switch(Location)
  28   1        {
  29   2          case 1:
  30   2            P2_4=1;
  31   2            P2_3=1;
  32   2            P2_2=1;
  33   2            break;
  34   2          case 2:
  35   2            P2_4=1;
  36   2            P2_3=1;
  37   2            P2_2=0;
  38   2            break;
  39   2          case 3:
  40   2            P2_4=1;
  41   2            P2_3=0;
  42   2            P2_2=1;
  43   2            break;
  44   2          case 4:
  45   2            P2_4=1;
  46   2            P2_3=0;
  47   2            P2_2=0;
  48   2            break;
  49   2          case 5:
  50   2            P2_4=0;
  51   2            P2_3=1;
  52   2            P2_2=1;
  53   2            break;
  54   2          case 6:
C51 COMPILER V9.57.0.0   MAIN                                                              11/17/2023 12:32:58 PAGE 2   

  55   2            P2_4=0;
  56   2            P2_3=1;
  57   2            P2_2=0;
  58   2            break;
  59   2          case 7:
  60   2            P2_4=0;
  61   2            P2_3=0;
  62   2            P2_2=1;
  63   2            break;
  64   2          case 8:
  65   2            P2_4=0;
  66   2            P2_3=0;
  67   2            P2_2=0;
  68   2            break;
  69   2        }
  70   1        //段选
  71   1        P0=X[Number];
  72   1        //消影
  73   1        Delay(1);
  74   1        
  75   1        P0=0x00;
  76   1      
  77   1        
  78   1        
  79   1      }
  80          
  81          void main()
  82          {
  83   1        unsigned char nums = 10;
  84   1        clock=9999;
  85   1        
  86   1        while(1)
  87   1        {
  88   2          //Delay(1000);
  89   2          //if(clock>=0)
  90   2          //{
  91   2            //取clock每一个位
  92   2          /*temp[0]=clock/1000;
  93   2          temp[1]=(clock/100)%10;
  94   2          temp[2]=(clock/10)%10;
  95   2          //temp[3]=(clock/10)%10;
  96   2          temp[3]=clock%10;*/
  97   2            
  98   2          //}
  99   2          temp[0]=clock/1000;
 100   2          Nixie(3,nums/2);
 101   2          Nixie(2,1);
 102   2          /*Nixie(2,temp[1]);
 103   2          Nixie(3,temp[2]);
 104   2          Nixie(4,temp[3]);
 105   2          //Nixie(5,temp[4]);
 106   2          if(clock>=99999){
 107   2            break;
 108   2          
 109   2          }*/
 110   2          //clock++;
 111   2        }
 112   1      } 


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    162    ----
C51 COMPILER V9.57.0.0   MAIN                                                              11/17/2023 12:32:58 PAGE 3   

   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     16       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
